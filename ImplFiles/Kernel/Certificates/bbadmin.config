<?xml version="1.0" encoding="utf-8" ?>
<!-- Copyright (C) 2024 Crayon -->
<Configuration>
  <!-- 
    MODULE IDENTITY
    The following declarations identifies theis module and assists in version control
  -->
  <Identity Name="Kernel.Certificates" Version="1.0" Description="A collection of core functions that support other modules">
    <Help>
The Kernel module implements key functions that are expected to be used across other modules.
Targets include:
	* LoadCertificateFromPfxFile             Load a Certificate from a PFX file
	* CreateSelfSignedCertificate            Create a new Self-Signed Certificate
    </Help>
  </Identity> 
  
  <!-- 
    LOCAL SETTINGS
    The following declarations define settings that are local to this module.
  -->
	
	<Setting
		Name="CertificateFriendlyName"
		Prompt="Enter a friendly name for the certificate (default: Beacon)"
		Default="Beacon"
	/>

	<Setting
		Name="ServerCertificateFileName"
		Prompt="Enter the name of the Beacon certificate file (default: beacon.pfx)"
		Default="beacon.pfx"
	/>

	<Setting
		Name="CertificateFileName"
		Prompt="Enter the name of the exported certificate file (default: cert.pfx)"
		Default="cert.pfx"
	/>

	<!-- 
		LOCAL TARGETS
		The following declarations define targets that are local to this module.
	-->

	<Target Name="LoadCertificateFromPfxFile" Description="Load a Certificate from a PFX file">
		<Step Load="Certificates.ps1"/>
		<Step Call="LoadCertificateFromPfxFile"/>
	</Target>

	<Target Name="CreateSelfSignedCertificate" Description="Create a new Self-Signed Certificate">
		<Step Load="Certificates.ps1"/>
		<Step Call="CreateSelfSignedCertificate"/>
	</Target>

</Configuration>
